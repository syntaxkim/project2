{% extends "layout.html" %}

{% block modal %}
<div id="modal" class="modal fade bd-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="join" aria-hidden="true">
  <div class="modal-dialog modal-sm modal-dialog-centered">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title">Choose your display name</h5>
        </div>
        <div class="modal-body">
            <form id="join" action="#">
                <input id="name" type="text" autocomplete="off" autofocus placeholder="Name">
                <button type="submit" class="btn btn-primary">Join</button>
            </form>
        </div>
        <div class="modal-footer">
            <h6 id="user_message"></h6>
        </div>
    </div>
  </div>
</div>
{% endblock %}

{% block body %}
<div id="list" class="row justify-content-md-center">
    <!-- channels -->
    <div id="channel-list" class="col-lg-3">
        <h5 class="text-center">Channel list</h5>
        <div class="list-group" id="list-tab" role="tablist">
        {% if channels %}
            {% for channel in channels %}
            <a href="#" class="channel list-group-item list-group-item-action" id="list-home-list" data-toggle="list" role="tab" data-channel="{{ channel }}">{{ channel }}</a>
            {% endfor %}
        {% endif %}
        </div>
    </div>
    <!-- messages -->
    <div id="message-list" class="col-lg-9">
        <h5 class="text-center">Chat room</h5>
        <ul id="messages">
        </ul>
    </div>
</div>

<div id="input" class="row justify-content-md-center">
    <!-- channel input -->
    <div class="col-lg-3">
        <form class="form-row" id="create" action="#">
            <div class="col-8">
                <input id="channel_name" class="form-control" type="text" autocomplete="off" placeholder="New channel">
            </div>
            <div class="col-1">
                <button class="btn btn-primary" type="submit">Create</button>
            </div>
        </form>
        <div id="channel_message"></div>
    </div>
    <!-- message input -->
    <div class="col-lg-9">
        <form class="form-row" id="send">
            <div class="col-10">
                <input id="message" class="form-control" type="text" autocomplete="off" autofocus placeholder="Message">
            </div>
            <div class="col-1">
                <button class="btn btn-primary" type="submit">Send</button>
            </div>
            <div class="col-1">
                <button class="btn btn-secondary" id="leave">Leave</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block dev %}
<hr>
<div>
    users: {{ users }}
    <br>
    channels: {{ channels }}
</div>
</div>
{% endblock %}